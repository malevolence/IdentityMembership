@model WebApplicationMvc.Models.SearchUsers

@{
    ViewBag.Title = "Index";
}

<form method="post" action="@Url.Action("Index")" class="form-horizontal" role="form" novalidate>
	<fieldset>
		<legend>Search Users</legend>
		<div class="form-group">
			@Html.LabelFor(m => m.UserId, new { @class = "control-label col-md-3" })
			<div class="col-md-9">
				@Html.TextBoxFor(m => m.UserId, new { @class = "form-control"} )
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(m => m.Username, new { @class = "control-label col-md-3" })
			<div class="col-md-9">
				@Html.TextBoxFor(m => m.Username, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(m => m.Email, new { @class = "control-label col-md-3" })
			<div class="col-md-9">
				@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			@Html.LabelFor(m => m.DisplayName, new { @class = "control-label col-md-3" })
			<div class="col-md-9">
				@Html.TextBoxFor(m => m.DisplayName, new { @class = "form-control" })
			</div>
		</div>
		<div class="form-group">
			<div class="col-md-9 col-md-offset-3">
				<button type="submit" class="btn btn-primary">Search Users</button>
			</div>
		</div>
	</fieldset>
</form>

@if (Model.Results.Count > 0) {
	<h2>Results</h2>
	<p>Found @Model.TotalCount Results. Showing up to the first 25 of them.</p>
	<table class="table table-hover table-striped table-condensed">
		<thead>
			<tr>
				<th></th>
				<th>Id</th>
				<th>Username</th>
				<th>Email</th>
				<th>Display Name</th>
			</tr>
		</thead>
		<tbody>
		@foreach (var user in Model.Results) {
			<tr>
				<td><a href="@Url.Action("Details", "Users", new { username = user.UserName })" title="edit" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-pencil"></span></a></td>
				<td>@user.Id</td>
				<td>@user.UserName</td>
				<td>@user.Email</td>
				<td>@user.DisplayName</td>
			</tr>
		}
		</tbody>
	</table>
}